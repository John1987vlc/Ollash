# Ollama API URL â€” required for Docker, optional for local development
# Set this to your Ollama server address before running docker-compose
# NOTE: Do NOT use OLLAMA_HOST (that's used by Ollama itself for binding)
#OLLASH_OLLAMA_URL=http://localhost:11434

# For remote Ollama server (e.g., on a different machine in your network):
# OLLASH_OLLAMA_URL=http://192.168.1.100:11434
OLLASH_OLLAMA_URL=http://localhost:11434

# Test configuration (used by pytest)
OLLAMA_TEST_URL=http://localhost:11434
OLLAMA_TEST_TIMEOUT=300
OLLAMA_TEST_MODEL=ministral-3:8b

# StableMatrix/WebUI Configuration (optional - for image generation)
# URL of StableMatrix or Stable Diffusion WebUI server
INVOKE_UI_URL=http://localhost:9090

# Directory to save generated images (optional)
# Default: ./generated_images
IMAGE_OUTPUT_DIR=generated_images

# Email Notification Configuration (optional)
# Leave blank to disable email notifications for automations
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
NOTIFICATION_FROM_EMAIL=
NOTIFICATION_FROM_NAME=Ollash Agent

# For more info on Gmail app passwords: https://support.google.com/accounts/answer/185833

# Phase 6 Webhook Configuration
# Add your webhook URLs here for Slack, Discord, and Teams integrations
# Get webhook URLs from:
# - Slack: https://api.slack.com/messaging/webhooks
# - Discord: https://discordapp.com/api/webhooks
# - Teams: https://docs.microsoft.com/en-us/microsoftteams/platform/webhooks-and-connectors/how-to/webhook
WEBHOOK_SLACK_URL=
WEBHOOK_DISCORD_URL=
WEBHOOK_TEAMS_URL=

# Phase 6 Voice Configuration
VOICE_MIN_CONFIDENCE=70
VOICE_LANGUAGE=es

# Phase 6 Report Configuration
REPORT_GENERATION_TIME=09:00
REPORT_FORMAT=markdown

# Phase 6 Feedback Configuration
FEEDBACK_APPLY_STYLES=true
FEEDBACK_MIN_CONFIDENCE=60

# --- Core Settings ---
OLLAMA_URL=http://192.168.1.217:11434
DEFAULT_MODEL=ministral-3:8b
DEFAULT_TIMEOUT=300
DEFAULT_TEMPERATURE=0.5
BENCHMARK_ENABLED=true

# --- JSON-based Configurations ---

AGENT_FEATURES_JSON='{"cross_reference": true, "knowledge_graph": {"auto_build": true, "max_depth": 3, "similarity_threshold": 0.6}, "decision_memory": {"auto_record": false, "save_on_shutdown": true, "retention_days": 365}, "artifacts": {"max_diagram_size": "1000x800", "supported_types": ["report", "diagram", "checklist", "code", "comparison"], "mermaid_theme": "default"}, "ocr": {"model": "deepseek-ocr:3b", "confidence_threshold": 0.7, "enabled": false}, "speech": {"enabled": false, "language": "es-ES", "max_duration_seconds": 60}}'

ALERTS_JSON='{"description": "Default alert thresholds and configurations for Ollash", "alerts": [{"alert_id": "high_cpu", "name": "High CPU Usage", "description": "System CPU usage is critically high", "severity": "critical", "entity": "cpu", "threshold": 85, "operator": ">", "cooldown_seconds": 600, "enabled": true, "channels": ["ui", "email"], "suggested_actions": ["Review running processes", "Check for resource leaks", "Consider stopping non-essential services"]}, {"alert_id": "high_memory", "name": "High Memory Usage", "description": "System memory usage is critically high", "severity": "critical", "entity": "memory", "threshold": 90, "operator": ">", "cooldown_seconds": 600, "enabled": true, "channels": ["ui", "email"], "suggested_actions": ["Identify memory-consuming processes", "Clear cache if available", "Restart heavy applications"]}]}'

AUTOMATION_TEMPLATES_JSON='{"example_triggers": [{"trigger_id": "cpu_usage_high", "name": "High CPU Usage Alert", "description": "Alert when CPU exceeds 80%", "rule": {"conditions": [{"metric": "system.cpu_usage", "operator": ">", "value": 80}], "logic": "AND"}, "actions": [{"type": "send_notification", "title": "High CPU Usage", "message": "CPU usage has exceeded 80%.", "severity": "warning"}]}]}'

LLM_MODELS_JSON='{
    "ollama_url": "http://192.168.1.217:11434",
    "default_model": "ministral-3:8b",
    "default_timeout": 300,
    "default_temperature": 0.5,
    "embedding": "qwen3-embedding:4b",
    "agent_roles": {
        "planner": "ministral-3:14b",
        "prototyper": "gpt-oss:20b",
        "coder": "qwen3-coder:30b",
        "generalist": "ministral-3:8b",
        "suggester": "ministral-3:8b",
        "improvement_planner": "ministral-3:14b",
        "senior_reviewer": "ministral-3:8b",
        "test_generator": "qwen3-coder:30b",
        "orchestration": "ministral-3:8b",
        "analyst": "ministral-3:14b",
        "writer": "ministral-3:8b"
    }
}'

TOOL_SETTINGS_JSON='{"sandbox": "limited", "max_context_tokens": 4096, "summarize_threshold_ratio": 0.7, "history_limit": 20, "log_level": "debug", "log_file": "ollash.log", "log_format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s", "default_system_prompt_path": "prompts/orchestrator/default_orchestrator.json", "use_docker_sandbox": false, "rate_limiting": {"requests_per_minute": 60, "max_tokens_per_minute": 100000}, "gpu_rate_limiter": {"degradation_threshold_ms": 5000.0, "recovery_threshold_ms": 2000.0, "min_rpm": 5, "ema_alpha": 0.3}, "auto_confirm_tools": false, "max_iterations": 30, "loop_detection_threshold": 3, "semantic_similarity_threshold": 0.95, "parallel_generation_max_concurrent": 3, "parallel_generation_max_rpm": 10, "senior_review_max_attempts": 3, "completeness_checker_max_retries": 2, "token_encoding_name": "cl100k_base"}'
